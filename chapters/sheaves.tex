Sheaves are geometric gadgets that were initially defined for applications in complex geometry. Serre was the first to introduce sheaves into algebraic geometry and since then sheaf-theoretic techniques have been at the core of many advances in algebraic geometry.  Sheaf theory provides tools for relating local data to global data on a topological space. In particular, the question of whether or not global solutions to certain problems exist can be studied using sheaf cohomology. 


\begin{construction}\label{def:opens}
  Let $X$ be a topological space. The open sets of $X$ are partially ordered by inclusion: \[V \le W \quad \text{when} \quad V \subseteq W.\]
  We may thus, as with any poset, consider the category of open sets of $X$, sometimes denoted by $\Op(X)$. By abuse of notation, we will often write $X$ instead of $\Op(X)$.
\end{construction}
\begin{remark}
 In the category $\Op(X)$ pullbacks correspond to intersections and pushouts correspond to unions. By the definition of topological space, this means that $\Op(X)$ has finite pullbacks and arbitrary pushouts. 
\end{remark}

\begin{definition}
	Let $\mathcal{C}$ be a category. A Grothendieck topology on $C$ is given by a set $\text{Cov}(\mathcal{C})$ of families of morphisms ${U_i \to U}$ for each object $U$ of $C$ with the following properties:
	\begin{enumerate}
		\item If $V \to U$ is an isomorphism, then $\{V \to U\} \in \mathcal{C}$
		\item If $\{U_i \to U\} \in \text{Cov}(\mathcal(C))$, and for each $U_i$ we have $\{V_{ij} \to Ui\}$, the composition $\{V_{ij} \to U\}$ is in $\text{Cov}(\mathcal{C})$.
		\item If $\{U_i \to U\} \in \text{Cov}(\mathcal{C})$, and $V \to U$ is a morphism, then $U_i \times_U V$ exists and 
		$\{U_i \times_U V \to V\}$ is in $\text{Cov}(\mathcal{C})$.
	\end{enumerate}	
	An element $\{U_i \to U\}$ of $\text{Cov}(\mathcal{C})$ is called a cover of $U$. A category $C$ together with a Grothendieck topology is called a \textit{site}.
\end{definition}
\begin{remark}
	A topological space $X$ may be equipped with the structure of a site by declaring the coverings of open sets $U \subseteq X$ to be those families of open sets $\{U_i\}$ contained in $U$ such that $\bigcup U_i = U$.
\end{remark}


\begin{definition}[Presheaves] 
  Let $C$ be a category. A \textit{presheaf of sets} $\Sh{F}$ on $C$ is a functor $C^{op} \to \Set$. Given an morphism $U \to V$, the corresponding map $\Sh{F}(V) \to \Sh{F}(U)$ is called the \textit{restriction map}. The elements of $\Sh{F}(U)$ are called the sections of $\Sh{F}$ over $U$. On sections one often denotes the map by $s \mapsto s|_U$.
\end{definition}

\begin{definition}[Sheaves]
  Let $(C,J)$ be a site.  A presheaf $\Sh{F}$ on $C$ is a \textit{sheaf}, if for any covering $\{U_i\}$ of $U$, the following diagram is an equalizer:
  \begin{equation} \label{equalizer:1}
    \Sh{F}(U) \to \prod_{i} \Sh{F}(U_i) \xbigtoto{} \prod_{i,j} \Sh{F}(U_i \cap U_j)
  \end{equation}
\end{definition}

We need to explain the above diagram. In the case that $X$ is covered by two objects $U_1$ and $U_2$, there are the morphisms $U_{12} \to U_1 \to X$ and $U_{12} \to U_2 \to X$, fitting into  where $U_{12}$ is shorthand for $U_1 \times_X U_2$. By the contravariance of $\Sh{F}$, there obtain two diagrams~\ref{cover} and~\ref{restriction}

\begin{figure}[h!]
    \tikzset{column sep=small, ampersand replacement=\&}
	\begin{floatrow}
    \centering
    \ffigbox{
		% https://q.uiver.app/?q=WzAsNCxbMSwwLCJVX3sxMn0iXSxbMCwxLCJVXzEiXSxbMiwxLCJVXzIiXSxbMSwyLCJYIl0sWzAsMV0sWzAsMl0sWzEsM10sWzIsM11d
			\begin{tikzcd}
				\& {U_{12}} \\
				{U_1} \& \& {U_2} \\
				\& X
				\arrow[from=1-2, to=2-1]
				\arrow[from=1-2, to=2-3]
				\arrow[from=2-1, to=3-2]
				\arrow[from=2-3, to=3-2]
		    \end{tikzcd}
		}{\caption{A covering of $X$}\label{cover}}

    \ffigbox{
		% https://q.uiver.app/?q=WzAsNCxbMCwxLCJcXG1hdGhjYWx7Rn0oVV9pKSJdLFsxLDAsIlxcbWF0aGNhbHtGfShVX3tpan0pIl0sWzIsMSwiXFxtYXRoY2Fse0Z9KFVfaikiXSxbMSwyLCJcXG1hdGhjYWx7Rn0oWCkiXSxbMCwxXSxbMiwxXSxbMywwXSxbMywyXV0=
		\begin{tikzcd}
			\& {\Sh{F} (U_{12})} \\
			{\Sh{F} (U_1)} \& \& {\Sh{F} (U_2)} \\
			\& {\Sh{F} (X)}.
			\arrow[from=2-1, to=1-2]
			\arrow[from=2-3, to=1-2]
			\arrow[from=3-2, to=2-1]
			\arrow[from=3-2, to=2-3]
		\end{tikzcd}} {\caption{Restrictions}\label{restriction}}
    \end{floatrow}
    \tikzset{column sep=small, ampersand replacement=&}
\end{figure}

When taking the product in the middle row of~\ref{restriction}, we obtain the diagram 
% https://q.uiver.app/?q=WzAsMyxbMiwwLCJcXG1hdGhjYWx7Rn0oVV97MTJ9KSJdLFswLDAsIlxcbWF0aGNhbHtGfShYKSJdLFsxLDAsIlxcbWF0aGNhbHtGfShVXzEpXFx0aW1lc1xcbWF0aGNhbHtGfShVXzIpIl0sWzEsMl0sWzIsMCwiIiwwLHsib2Zmc2V0IjoxfV0sWzIsMCwiIiwwLHsib2Zmc2V0IjotMX1dXQ==
\[
	\begin{tikzcd}
		{\Sh{F}(X)} & {\Sh{F}(U_1)\times\Sh{F}(U_2)} & {\Sh{F}(U_{12})}.
		\arrow[from=1-1, to=1-2]
		\arrow[shift right=1, from=1-2, to=1-3]
		\arrow[shift left=1, from=1-2, to=1-3]
	\end{tikzcd}
\]

Given two section $s_1 \in \Sh{F}(U_1)$ and $s_2 \in \Sh{F}(U_2)$, the two parallel arrows map $(s_1, s_2)$ to $s_1|_{U_{12}}$ and $s_2|_{U_{12}}$. To say that $\Sh{F}(X)$ is an equalizer in the above diagram amounts to saying that the sections of $\Sh{F}(X)$ are recoverable from those sections on the sets $U_1$ and $U_2$ which agree on the overlap $U_{12}$. The diagram\eqref{equalizer:1} is the straightforward generalisation of the preceding discussion for a cover consisting of more than 2 open sets.

Since sheaves are presheaves, we define a map of sheaves $\varphi: \Sh{F} \to \Sh{G}$ as a natural transformation $\Sh{F} \to \Sh{G}$ between functors. Explicitly this natural transformation consists of a group homomorphism $\varphi_U: \Sh{F}(U) \to \Sh{G}(U)$ for each $U \in X$ that is compatible with the restrictions in the sense that the following diagram commutes:

% https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXG1hdGhjYWx7Rn0oVikiXSxbMCwxLCJcXG1hdGhjYWx7Rn0oVSkiXSxbMSwwLCJcXG1hdGhjYWx7R30oVikiXSxbMSwxLCJcXG1hdGhjYWx7R30oVSkiXSxbMCwxLCJyZXNfe1YsVX0iLDJdLFswLDIsIlxcdmFycGhpX1YiXSxbMiwzLCJyZXNfe1YsVX0iXSxbMSwzLCJcXHZhcnBoaV9VIl1d
\[\begin{tikzcd}
	{\Sh{F}(V)} & {\Sh{G}(V)} \\
	{\Sh{F}(U)} & {\Sh{G}(U)}
	\arrow["{\cdot|_U}"', from=1-1, to=2-1]
	\arrow["{\varphi_V}", from=1-1, to=1-2]
	\arrow["{\cdot|_U}", from=1-2, to=2-2]
	\arrow["{\varphi_U}", from=2-1, to=2-2]
\end{tikzcd}\]


We obtain the category $\mathsf{Sh}(C,J)$ of sheaves on $C$ with respect to the topology $J$. This is in fact a full subcategory of presheaves $\Set^{C^{op}}$.

\section{Some functors related to sheaves}
The main result of this section is the existence of two pairs of adjoint functors. Since right adjoint functors preserve limits and left adjoint functors preserve colimits, many convenient results about sheaves will follow easily from these adjunctions.

\begin{theorem}
	The global sections functor $\Gamma: \Sh(C,J) \to \Set, \Gamma(F) = \Hom(1,F)$ is right adjoint to the constant sheaf functor $\Delta: \Set \to \Sh(C,J)$.
\end{theorem}

\begin{theorem}
	The forgetful functor $\mathsf{Sh}(C,J) \to \Set^{C^{op}}$ admits a limit-preserving left adjoint
	\[a : \Set^{C^{op}} \to \mathsf{Sh}(C,J).\]
\end{theorem}

The functor $a$ is the \textit{associated sheaf functor}, also known as \textit{sheafification}. As the name suggests, it provides universal way to turn a presheaf into a sheaf.
Note that there are two ways a presheaf can fail to be a sheaf: 
\begin{itemize}
	\item 
		Local sections may fail to patch to a global section. An example of a presheaf whose local sections fail to patch is the presheaf of bounded continuous functions on $\R$. If we cover $\R$ by bounded intervals $\{U_i\}$, the identity function is bounded on each $U_i$ but is obviously not globally bounded. 
	\item 
		Sections that agree locally may not agree globally. We construct an example. $S$ be the a discrete topological space with two points $0$ and $1$. We define a presheaf $\Sh{F}$ by setting $\Sh{F}(\varnothing) = \{*\}$ and $\Sh{F}(U) = \R^U$. We define the restriction maps to send a section $s \in \Sh{F}(U)$ to the constant function $s|_V \equiv 0$ when $V \subseteq U$ is nonempty. Now let $s,t \in \Sh{F}(S)$ be defined by $s \equiv 1$ and $t \equiv -1$. Then $\{\{0\}, \{1\}\}$ is an open cover of $S$ and $s|_{0} = t|_{0}$ and $s|_{1} = t|_{1}$, but $s \neq t$.
		This cannot happen if the map
		\[
			i: \Sh{F}(U) \to \mathsf{eq}(\prod_{i} \Sh{F}(U_i) \xbigtoto{} \prod_{i,j} \Sh{F}(U_i \cap U_j))
		\]
		is injective. Such a presheaf is called separated.
\end{itemize} 

Thus, sheafification proceeds in two steps. The first step removes sections that agree locally but not globally, making a presheaf into a separated presheaf.  The second step adds the sections of matching local sections. 

For the proof, it will be useful to give an alternative description of Grothendieck topologies.  For an object $A$ of $C$, a \textit{sieve} on $C$ is a set $S$ of morphisms with codomain $C$ such that $f \circ h \in S$ whenever $f \in S$ and $f \circ h$ is defined. Note that the set of sieves is ordered by inclusion.

\begin{proof}
\end{proof}

Consider the terminal object $1$ in the category $\Set^{C^{op}}$. It is the presheaf defined by $1(X) = \{*\}$ for all $X \in C$. A morphism of presheaves $\gamma: 1 \to P$ picks an element $\gamma_U$ for each object $U$ of $C$ such that the following diagram commutes for each $f: U \to U'$:
% https://q.uiver.app/?q=WzAsMyxbMSwwLCJcXHsqXFx9Il0sWzAsMSwiXFxTaHtGfShVJykiXSxbMiwxLCJcXFNoe0Z9KFUpIl0sWzAsMV0sWzEsMiwiZl8qIl0sWzAsMl1d
\[ \begin{tikzcd}
	& {\{*\}} \\
	{\Sh{F}(U')} && {\Sh{F}(U)}
	\arrow[from=1-2, to=2-1]
	\arrow["{f_*}", from=2-1, to=2-3]
	\arrow[from=1-2, to=2-3]
\end{tikzcd}
\]
We obtain a functor $\Gamma: \Set^{C^{op}} \to \Set, \Gamma(P) = \Hom(1, P)$. Conversely, we can assign to each set $S$ the constant presheaf $\Delta C$ by setting $\Delta C(U) = S$ and letting all restrictions be identities. There are natural isomorphisms
\[\Hom_{\hat{C}}(\Delta C, P) \cong \Hom(S, \Gamma P),\]
so the global sections functor is left adjoint to the constant presheaf functor.
Since the inclusion of sheaves into presheaves has a left adjoint it preserves limits. In particular, terminal object $1$ is also a sheaf. Since adjoint functors compose, it follows that the functor $\Gamma : \mathsf{Sh}(C,J) \to \Set$ is right adjoint to the composition $a \circ \Delta: \Set \to \mathsf{Sh}(C,J)$. 


For example, when $X$ is a topological space, $\Hom(1,F)(X)$ consists of all global sections of the sheaf $\Sh{F}$. Here $\Hom(1,F)$ is in the category $\mathsf{Sh}(C,J)$


\begin{theorem}
  Given a presheaf $\Sh{F}$ there is a unique morphism of presheaves $a : \Sh{F} \to \Sh{F}^{+}$ with the property that for any sheaf $\Sh{G}$ and 
\end{theorem}

\begin{remark}
	An \textit{abelian category} is a category $\mathcal{A}$ such that
	\begin{enumerate}
		\item for any two objects $A,B$ of $\mathcal{A}$, $\Hom(A,B)$ is an abelian group,
		\item every morphism has a kernel and cokernel,
		\item every monomorphism is a kernel,
		\item every epimorphism is a cokernel.
	\end{enumerate}
\end{remark}

\begin{definition}
  A sequence of sheaves $\to \Sh{F}_{i-1} \to \Sh{F}_{i} \to \Sh{F}_{i+1} \to$
	is exact if for each $i$, $\ker \varphi_i = im \varpi_{i-1}$.
\end{definition}

% https://q.uiver.app/?q=WzAsMyxbMSwwLCJcXHsqXFx9Il0sWzAsMSwiXFxTaHtGfShVJykiXSxbMiwxLCJcXFNoe0Z9KFUpIl0sWzAsMV0sWzEsMiwiZl8qIl0sWzAsMl1d
\begin{tikzcd}
	& {\{*\}} \\
	{\Sh{F}(U')} && {\Sh{F}(U)}
	\arrow[from=1-2, to=2-1]
	\arrow["{f_*}", from=2-1, to=2-3]
	\arrow[from=1-2, to=2-3]
\end{tikzcd}
