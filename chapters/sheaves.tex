\section{Grothendieck topologies and sites}
\begin{construction}[h]\label{def:opens}
  Let $X$ be a topological space. The open sets of $X$ are partially ordered by inclusion: $V \le W \quad \text{when} \quad V \subseteq W$.  We may thus, as with any poset, consider the category of open sets of $X$, sometimes denoted by $\Op(X)$. By abuse of notation, we will often write $X$ instead of $\Op(X)$.
\end{construction}
\begin{remark}
  In the category $\Op(X)$ pullbacks correspond to intersections and pushouts correspond to unions. By the definition of topological space, this means that $\Op(X)$ has finite pullbacks and arbitrary pushouts. 
\end{remark}

\begin{definition}
	Let $\mathcal{C}$ be a category. A Grothendieck topology on $C$ is given by a set $\text{Cov}(\mathcal{C})$ of families of morphisms ${U_i \to U}$ for each object $U$ of $C$ with the following properties:
	\begin{enumerate}
		\item If $V \to U$ is an isomorphism, then $\{V \to U\} \in \mathcal{C}$
		\item If $\{U_i \to U\} \in \text{Cov}(\mathcal{C})$, and for each $U_i$ we have $\{V_{ij} \to Ui\}$, the composition $\{V_{ij} \to U\}$ is in $\text{Cov}(\mathcal{C})$.
		\item If $\{U_i \to U\} \in \text{Cov}(\mathcal{C})$, and $V \to U$ is a morphism, then $U_i \times_U V$ exists and 
		$\{U_i \times_U V \to V\}$ is in $\text{Cov}(\mathcal{C})$.
	\end{enumerate}	
	An element $\{U_i \to U\}$ of $\text{Cov}(\mathcal{C})$ is called a cover of $U$. A category $C$ together with a Grothendieck topology is called a \textit{site}.
\end{definition}

\begin{itemize}
	\item	A topological space $X$ may be equipped with the structure of a site by declaring the coverings of open sets $U \subseteq X$ to be those families of open sets $\{U_i\}$ contained in $U$ such that $\bigcup U_i = U$. We have seen that the category $\acute{E}t/X$ of schemes \'etale over $X$ carries the structure of a Grothendieck topology. This topology is finer than the Zariski topology in the sense that an open immersion $U \to X$ is always \'etale, so each open set $U \in X$ may be thought of as an \'etale morphism.
	\item The category of finite
	\item The main site we will consider is the \'etale site of a scheme $X$. From (...) it follows that the set of families jointly surjective \'etale morphisms form a site.
\end{itemize}


\begin{definition}[Presheaves] 
  Let $C$ be a category. A \textit{presheaf of sets} $F$ on $C$ is a functor $C^{op} \to \Set$. Given an morphism $f: U \to V$, the corresponding map $F(V) \to F(U)$ is called the \textit{restriction map}. The elements of $F(U)$ are called the sections of $F$ over $U$. If the map $f: U \to V$ we are restricting along is clear from context, we will denote the action of the induced map on $s \in F(V)$ by $s \mapsto s|_U$.
\end{definition}

\begin{definition}[Sheaves]
  Let $(C,J)$ be a site.  A presheaf $\Sh{F}$ on $C$ is a \textit{sheaf}, if for any covering $\{U_i\}$ of $U$, the following diagram is an equalizer:
  \begin{equation} \label{equalizer:1}
    \Sh{F}(U) \to \prod_{i} \Sh{F}(U_i) \xbigtoto{} \prod_{i,j} \Sh{F}(U_i \cap U_j)
  \end{equation}
\end{definition}

We need to explain the above diagram. In the case that $X$ is covered by two objects $U_1$ and $U_2$, there are the morphisms $U_{12} \to U_1 \to X$ and $U_{12} \to U_2 \to X$, fitting into  where $U_{12}$ is shorthand for $U_1 \times_X U_2$. By the contravariance of $\Sh{F}$, there obtain two diagrams~\ref{cover} and~\ref{restriction}

\begin{figure}[h!]
    \tikzset{column sep=small, ampersand replacement=\&}
	\begin{floatrow}
    \centering
    \ffigbox{
		% https://q.uiver.app/?q=WzAsNCxbMSwwLCJVX3sxMn0iXSxbMCwxLCJVXzEiXSxbMiwxLCJVXzIiXSxbMSwyLCJYIl0sWzAsMV0sWzAsMl0sWzEsM10sWzIsM11d
			\begin{tikzcd}
				\& {U_{12}} \\
				{U_1} \& \& {U_2} \\
				\& X
				\arrow[from=1-2, to=2-1]
				\arrow[from=1-2, to=2-3]
				\arrow[from=2-1, to=3-2]
				\arrow[from=2-3, to=3-2]
		    \end{tikzcd}
		}{\caption{A covering of $X$}\label{cover}}

    \ffigbox{
		% https://q.uiver.app/?q=WzAsNCxbMCwxLCJcXG1hdGhjYWx7Rn0oVV9pKSJdLFsxLDAsIlxcbWF0aGNhbHtGfShVX3tpan0pIl0sWzIsMSwiXFxtYXRoY2Fse0Z9KFVfaikiXSxbMSwyLCJcXG1hdGhjYWx7Rn0oWCkiXSxbMCwxXSxbMiwxXSxbMywwXSxbMywyXV0=
		\begin{tikzcd}
			\& {\Sh{F} (U_{12})} \\
			{\Sh{F} (U_1)} \& \& {\Sh{F} (U_2)} \\
			\& {\Sh{F} (X)}.
			\arrow[from=2-1, to=1-2]
			\arrow[from=2-3, to=1-2]
			\arrow[from=3-2, to=2-1]
			\arrow[from=3-2, to=2-3]
		\end{tikzcd}} {\caption{Restrictions}\label{restriction}}
    \end{floatrow}
    \tikzset{column sep=small, ampersand replacement=&}
\end{figure}

When taking the product in the middle row of~\ref{restriction}, we obtain the diagram 
% https://q.uiver.app/?q=WzAsMyxbMiwwLCJcXG1hdGhjYWx7Rn0oVV97MTJ9KSJdLFswLDAsIlxcbWF0aGNhbHtGfShYKSJdLFsxLDAsIlxcbWF0aGNhbHtGfShVXzEpXFx0aW1lc1xcbWF0aGNhbHtGfShVXzIpIl0sWzEsMl0sWzIsMCwiIiwwLHsib2Zmc2V0IjoxfV0sWzIsMCwiIiwwLHsib2Zmc2V0IjotMX1dXQ==
\[
	\begin{tikzcd}
		{\Sh{F}(X)} & {\Sh{F}(U_1)\times\Sh{F}(U_2)} & {\Sh{F}(U_{12})}.
		\arrow[from=1-1, to=1-2]
		\arrow[shift right=1, from=1-2, to=1-3]
		\arrow[shift left=1, from=1-2, to=1-3]
	\end{tikzcd}
\]

Given two section $s_1 \in \Sh{F}(U_1)$ and $s_2 \in \Sh{F}(U_2)$, the two parallel arrows map $(s_1, s_2)$ to $s_1|_{U_{12}}$ and $s_2|_{U_{12}}$. To say that $\Sh{F}(X)$ is an equalizer in the above diagram amounts to saying that the sections of $\Sh{F}(X)$ are recoverable from those sections on the sets $U_1$ and $U_2$ which agree on the overlap $U_{12}$. The diagram\eqref{equalizer:1} is the straightforward generalisation of the preceding discussion for a cover consisting of more than 2 open sets.

\subsection{Maps of Sheaves and Sheaves with Algebraic Structure}
Since sheaves are presheaves, we define a map of sheaves $\varphi: \Sh{F} \to \Sh{G}$ as a natural transformation $\Sh{F} \to \Sh{G}$ between functors. Explicitly this natural transformation consists of a map of sets $\varphi_U: \Sh{F}(U) \to \Sh{G}(U)$ for each $U \in X$ such that the following diagram commutes:

% https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXG1hdGhjYWx7Rn0oVikiXSxbMCwxLCJcXG1hdGhjYWx7Rn0oVSkiXSxbMSwwLCJcXG1hdGhjYWx7R30oVikiXSxbMSwxLCJcXG1hdGhjYWx7R30oVSkiXSxbMCwxLCJyZXNfe1YsVX0iLDJdLFswLDIsIlxcdmFycGhpX1YiXSxbMiwzLCJyZXNfe1YsVX0iXSxbMSwzLCJcXHZhcnBoaV9VIl1d
\[
	\begin{tikzcd}
		{\Sh{F}(V)} & {\Sh{G}(V)} \\
		{\Sh{F}(U)} & {\Sh{G}(U)}
		\arrow["{\cdot|_U}"', from=1-1, to=2-1]
		\arrow["{\varphi_V}", from=1-1, to=1-2]
		\arrow["{\cdot|_U}", from=1-2, to=2-2]
		\arrow["{\varphi_U}", from=2-1, to=2-2]
	\end{tikzcd}
\]

We obtain the category $\mathsf{Sh}(C,J)$ of sheaves on $C$ with respect to the topology $J$. This is in fact a full subcategory of presheaves $\Set^{C^{op}}$.\par

\begin{definition}
Algebraic structures like groups and rings may be described in terms commutative diagrams. Let $\mathcal{C}$ be a category with finite products and a terminal object $1$. A \textit{group object} in $\mathcal{C}$ consists of an object $A$ of $\mathcal{C}$ together with morphisms
\[e: * \to A,\ m : A \times A \to A,\ \iota: A \to A \]
such that the following diagrams commute:
\[
% https://q.uiver.app/?q=WzAsNCxbMCwwLCJBIl0sWzAsMSwiQSBcXHRpbWVzIEEiXSxbMSwwLCJBIFxcdGltZXMgQSJdLFsxLDEsIkEiXSxbMCwxLCJcXGlvdGEgXFx0aW1lcyBpZCIsMl0sWzAsMiwiaWQgXFx0aW1lcyBcXGlvdGEiXSxbMiwzLCJtIl0sWzEsMywibSIsMl0sWzAsMywiXFxpZCIsMV1d
	\begin{tikzcd}
		A & {A \times A} \\
		{A \times A} & A
		\arrow["{\iota \times id}"', from=1-1, to=2-1]
		\arrow["{id \times \iota}", from=1-1, to=1-2]
		\arrow["m", from=1-2, to=2-2]
		\arrow["m"', from=2-1, to=2-2]
		\arrow["id", from=1-1, to=2-2]
	\end{tikzcd}
\]
\[
	% https://q.uiver.app/?q=WzAsNCxbMCwwLCJBIFxcdGltZXMgQSBcXHRpbWVzIEEiXSxbMSwwLCJBIl0sWzEsMSwiQSJdLFswLDEsIkEiXSxbMCwxLCJpZCBcXHRpbWVzIG0iLDJdLFsxLDIsIm0iLDJdLFswLDMsIm0gXFx0aW1lcyBpZCJdLFszLDIsIm0iXV0=
	\begin{tikzcd}
		{A \times A \times A} & A \\
		A & A
		\arrow["{id \times m}"', from=1-1, to=1-2]
		\arrow["m"', from=1-2, to=2-2]
		\arrow["{m \times id}", from=1-1, to=2-1]
		\arrow["m", from=2-1, to=2-2]
	\end{tikzcd}
\]
\end{definition}

The category of sheaves $\Sh(X, \acute{E}t_X)$ on the \'etale toplogy of a scheme $X$ bears a special name: it is the \'etale topos of $X$. We have seen that a number of geometric constructions from algebraic topology fail in the Zariski topology. The \'etale topology captures these phenomena. In this sense the \'etale topos topos enables us to reason about schemes more geometrically. So if we want to understand the geometry a scheme $X$, we should also study the \'etale topos of $X$.

\section{Some categories and functors related to sheaves}

Rough draft \par
Sheaves are closely related to bundles. Because bundles are not locally trivial, we define vector bundles on schemes via sheaves. We prove that there is the sheaf-bundle adjunction and hopefully apply it.

\subsection{Bundles and sheaves}

A map $f: Y \to X$ of topological spaces is also called a bundle over $X$. Every bundle gives rise to the sheaf $Gamma_f$, defined by
\[
    \Gamma_f(U)	= \{ s : U \to f^{-1}(U) \mid f \circ s = id \}.
\]
This sheaf is called the \textit{sheaf of sections of $f$}. Each map $f \to g$ of bundles over $X$ induces a map of sheaves.
\begin{remark}
	It is not the case that the \'espace \'etale of an \'etale sheaf is again a scheme. I have heard this is a reason to consider algebraic spaces
\end{remark}

\begin{proposition}
	Let $f: X \to Y$ be a morphism of schemes. The presheaf $\Gamma_f$ is a sheaf in the \'etale topology.
\end{proposition}
\begin{proof}
	
\end{proof}

\begin{definition}[Fiber bundles]
	Let $X$ be a topological space. A \textit{fiber bundle over $X$ with fiber $F$} is a space $p: B \to X$ over $X$ such that for each point $x \in X$ there is an open neighborhood $U$ of $x$ such that $p^{-1}(U) \cong U \times F$. A cover $\{U_i\}$ is called \textit{a trivialization of $B$} if $p^{-1}(U_i) \cong U_i \times F$ for each $i$. We will write $U_{ij}$ instead of $U_i \cap U_j$ and similarly for $U_i \cap U_j \cap U_k$.
\end{definition}
\begin{remark}
	Suppose we are given a cover $\{U_i\}$ of $X$. Under which conditions can we construct a fiber bundle $p: B \to X$ with fiber $F$ such that $\{U_i\}$ is a trivialization of $B$? We know that we want $B_i \coloneqq p^{-1}(U_i)\cong U_i \times F $, so $B$ should be glued together from the $B_i$. In order to do this we need to specify isomorphisms $\phi_{ij} : U_i \to U_j$ subject to the \textit{cocycle condition}:
	\[(...)\]
	.
\end{remark}

\begin{construction}
	Each fiber bundle $B$ over $X$ with projection $p$ gives rise to a sheaf. For each open set $U$ of $X$ we can consider the set of sections 
	\[
		\{s \in \mathcal{M}(U) \mid p \circ s = \text{id}\}.
	\]
	This forms a sheaf on $X$. We have seen (...) that fibre bundles are not locally trivial in the Zariski topology. For this reason the analogs of fibre bundles in algebraic geometry are defined using sheaves with a local triviality condition.
\end{construction}
\begin{example}
	Let $p : M \to S^1$ be the M\"obius strip with fiber $[-1,1]$ from the introduction. Let $\mathcal{M}$ be the sheaf of sections of this bundle. There is a subsheaf $\mathcal{N}$ which consists of those sections which vanish nowhere:
	\[
		\mathcal{N}(U) = \{s : U \to U \times [-1,1] \mid \pi_1(s) \neq 0 \text{ for all } s \in U\}.
	\]
	This subsheaf has no global sections. This is because of the non-orientability of the M\"obius strip. We may choose a trivialisation $\{U_1, U_2, U_3\}$ of $M$ such that each $U_i$ is connected. Then the sign of sections $s_i: U_i \to U_i \times [-1,1]$ must be constant. 
\end{example}


\subsection{Sheafification}

\begin{theorem}
	The forgetful functor $\mathsf{Sh}(C,J) \to \Set^{C^{op}}$ admits a limit-preserving left adjoint
	\[a : \Set^{C^{op}} \to \mathsf{Sh}(C,J).\]
\end{theorem}
\begin{corollary}
	The cateogry of sheaves on $X$ is a full reflective subcategory of the category of presheaves on $X$.
\end{corollary}

The functor $a$ is the \textit{associated sheaf functor}, also called \textit{sheafification}. As the name suggests, it provides universal way to turn a presheaf into a sheaf.
Note that there are two ways a presheaf can fail to be a sheaf: 
\begin{itemize}
	\item 
		Local sections may fail to patch to a global section. An example of a presheaf whose local sections fail to patch is the presheaf of bounded continuous functions on $\R$. If we cover $\R$ by bounded intervals $\{U_i\}$, the identity function is bounded on each $U_i$ but is obviously not globally bounded. 
	\item 
		Sections that agree locally may not agree globally. We construct an example. $S$ be the a discrete topological space with two points $0$ and $1$. We define a presheaf $\Sh{F}$ by setting $\Sh{F}(\varnothing) = \{*\}$ and $\Sh{F}(U) = \R^U$. We define the restriction maps to send a section $s \in \Sh{F}(U)$ to the constant function $s|_V \equiv 0$ when $V \subseteq U$ is nonempty. Now let $s,t \in \Sh{F}(S)$ be defined by $s \equiv 1$ and $t \equiv -1$. Then $\{\{0\}, \{1\}\}$ is an open cover of $S$ and $s|_{0} = t|_{0}$ and $s|_{1} = t|_{1}$, but $s \neq t$.
		This cannot happen if the map
		\[
			i: \Sh{F}(U) \to \mathsf{eq}(\prod_{i} \Sh{F}(U_i) \xbigtoto{} \prod_{i,j} \Sh{F}(U_i \cap U_j))
		\]
		is injective. A presheaf for which $i$ is injective is called separated.
\end{itemize} 

Thus, sheafification proceeds in two steps. The first step removes sections that agree locally but not globally, making a presheaf into a separated presheaf.  The second step adds the sections of matching local sections. 

\begin{proof}
	See \cite{MacLane/Moerdijk:1994}.
\end{proof}

\subsection{The global sections functor}
Let $X$ be a topological space and $F$ a sheaf on $X$. The elements of $F(X)$ are called \textit{global sections of $F$}. It is helpful to view the elements $x \in F(X)$ as \textit{global solutions} to some sort of geometric question. We begin this section with an intuitive and instructive example.

\begin{theorem}
	There is an adjoint pair of functors
	% https://q.uiver.app/?q=WzAsMixbMCwwLCJcXG1hdGhzZntTaH0oQyxKKSJdLFsxLDAsIlxcU2V0Il0sWzEsMCwiXFxEZWx0YSIsMCx7Im9mZnNldCI6LTF9XSxbMCwxLCJcXEdhbW1hIiwwLHsib2Zmc2V0IjotMX1dXQ==
	\[
		\begin{tikzcd}
			{\mathsf{Sh}(C,J)} & \Set
			\arrow["\Delta", shift left=1, from=1-2, to=1-1]
			\arrow["\Gamma", shift left=1, from=1-1, to=1-2]
		\end{tikzcd}
	\]
	The global sections functor $\Gamma: \mathsf{Sh}(C,J) \to \Set,\ \Gamma(F) = \Hom(1,F)$ is right adjoint to the constant sheaf functor $\Delta: \Set \to \Sh(C,J)$.
\end{theorem}

Consider the terminal object $1$ in the category $\Set^{C^{op}}$. It is the presheaf defined by $1(X) = \{*\}$ for all $X \in C$. A morphism of presheaves $\gamma: 1 \to P$ picks an element $\gamma_U$ for each object $U$ of $C$ such that the following diagram commutes for each $f: U \to U'$:
% https://q.uiver.app/?q=WzAsMyxbMSwwLCJcXHsqXFx9Il0sWzAsMSwiXFxTaHtGfShVJykiXSxbMiwxLCJcXFNoe0Z9KFUpIl0sWzAsMV0sWzEsMiwiZl8qIl0sWzAsMl1d
\[ \begin{tikzcd}
	& {\{*\}} \\
	{\Sh{F}(U')} && {\Sh{F}(U)}
	\arrow[from=1-2, to=2-1]
	\arrow["{f_*}", from=2-1, to=2-3]
	\arrow[from=1-2, to=2-3]
\end{tikzcd}
\]
We obtain a functor $\Gamma: \Set^{C^{op}} \to \Set, \Gamma(P) = \Hom(1, P)$. Conversely, we can assign to each set $S$ the constant presheaf $\Delta C$ by setting $\Delta C(U) = S$ and letting all restrictions be identities. There are natural isomorphisms
\[\Hom_{\widehat{C}}(\Delta C, P) \cong \Hom(S, \Gamma P),\]
so the global sections functor is left adjoint to the constant presheaf functor.
Since the inclusion of sheaves into presheaves has a left adjoint it preserves limits. In particular, terminal object $1$ is also a sheaf. Since adjoint functors compose, it follows that the functor $\Gamma : \mathsf{Sh}(C,J) \to \Set$ is right adjoint to the composition $a \circ \Delta: \Set \to \mathsf{Sh}(C,J)$. 


For example, when $X$ is a topological space, $\Hom(1,F)(X)$ consists of all global sections of the sheaf $\Sh{F}$. Here $\Hom(1,F)$ is in the category $\mathsf{Sh}(C,J)$